<!DOCTYPE html>
<html lang="id"> <!-- Diubah ke id -->
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!--FavIcon-->
    <link
      rel="shortcut icon"
      href="./assets/2.png"
      type="image/x-icon"
    />
    <!--FavIcon-->

<<<<<<< HEAD
    <title>Checkout Cetak Kemasan & Label Produk - RNR Digital Printing</title>
=======
    <title>Checkout Cetak Kemasan & Label Produk - RNR Digital Printing</title> 
>>>>>>> 737e1f1cce68c36581d8631d11395fcc6d9e228e

    <!--CSS-->
    <link rel="stylesheet" href="./css/style.css" />
    <!--CSS-->

    <!-- Font -->
     <link rel="stylesheet" href="">
    <!-- Font -->

    <!--Bootstraps CSS-->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7"
      crossorigin="anonymous"
    />
    <!--Bootstraps CSS-->

    <style>
        /* Optional: Tambahkan styling khusus untuk halaman form */
        .order-page-section {
            padding-top: 40px;
            padding-bottom: 40px;
        }
        .product-image-preview {
            border: 1px solid #ccc; /* Add border around carousel */
            border-radius: 5px; /* Match form border radius */
            overflow: hidden; /* Ensure corners are rounded */
            background-color: #f8f9fa; /* Light background */
            /* Optional: Adjust padding if needed inside */
            /* padding: 10px; */
        }

         /* Style for carousel images to be responsive */
         .carousel-item img {
            width: 100%; /* Make image take full width of carousel item */
            height: auto; /* Maintain aspect ratio */
            display: block; /* Remove extra space below image */
            /* Optional: set a max-height if needed, might cause empty space or need object-fit */
            /* max-height: 400px; */
            /* object-fit: contain; /* or 'cover' depending on desired effect */
         }

        .product-config-form {
            padding: 20px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        /* Styling for the moved details section below the carousel */
        .details-below-carousel { /* Generic class */
            margin-top: 20px; /* Add some space above the text */
            /* Add padding or other styles if needed */
            padding-top: 15px;
            border-top: 1px solid #eee; /* Optional: Add a separator line */
        }

        .details-below-carousel ul {
            margin-bottom: 1rem; /* Add space below lists */
        }

        /* === Styling for the new checkout summary section === */
        .checkout-summary {
             background-color: #e9ecef; /* Light grey background */
             border: 1px solid #ced4da;
             border-radius: 5px;
             padding: 20px; /* Increased padding */
             margin-top: 20px; /* Space above this section */
        }
         .checkout-summary h4 {
             margin-top: 0; /* Remove top margin from title */
             margin-bottom: 15px; /* Space below title */
             text-align: center;
         }
        /* === End Styling for the new checkout summary section === */


        .price-summary { /* Keep existing price summary styles, now inside checkout-summary */
            /* background-color: #d4edda; /* Light green background - Optional, can remove if inside checkout-summary */
            border: none; /* Remove border if inside checkout-summary */
            padding: 0; /* Remove padding if inside checkout-summary */
            border-radius: 0; /* Remove border-radius if inside checkout-summary */
            margin-bottom: 0; /* Space below price summary list */
        }
         .price-summary h4 {
             margin-bottom: 10px;
             text-align: center; /* Center title */
         }
         .price-breakdown {
             list-style: none;
             padding: 0;
             margin: 0;
         }
         .price-breakdown li {
             display: flex;
             justify-content: space-between;
             margin-bottom: 5px;
             padding-bottom: 5px;
             border-bottom: 1px dotted #a7c2a7; /* Dotted line for separation */
         }
         .price-breakdown li:last-child {
             border-bottom: none;
             margin-top: 10px;
             padding-top: 10px;
             font-size: 1.2em; /* Larger font for total */
             font-weight: bold;
             border-top: 1px solid #a7c2a7; /* Solid line above total */
         }
          .price-breakdown li span:first-child {
              font-weight: normal; /* Label not bold */
          }
          .price-breakdown li:last-child span {
               font-weight: bold; /* Both label and value bold for total */
          }


    </style>

  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-primary py-3">
      <div class="container">
        <a class="navbar-brand" href="index.html"> <!-- Link kembali ke halaman utama -->
          <img
            src="./assets/2.png"
            alt="Logo"
            width="30"
            height="24"
            class="d-inline-block align-text-top"
          />
          <span class="fs-3 fw-bold text-white">RNR Digital Printing</span>
        </a>
         <button
          class="navbar-toggler bg-white shadow-none"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
           <ul class="navbar-nav ms-auto d-flex gap-2 text-center pt-lg-0 pt-4">
            <li class="nav-item">
              <a class="nav-link fw-bold text-white" href="index.html#home">Home</a> <!-- Link ke section di index -->
            </li>
            <li class="nav-item">
              <a class="nav-link fw-bold text-white" href="index.html#about">About</a> <!-- Link ke section di index -->
            </li>
            <li class="nav-item">
              <a class="nav-link fw-bold text-white" href="index.html#order-guide">How To Order</a> <!-- Link ke section di index -->
            </li>
            <li class="nav-item">
              <a class="nav-link fw-bold text-white" href="index.html#services">Services</a> <!-- Link ke section di index -->
            </li>
            <li class="nav-item">
              <a class="nav-link fw-bold text-white" href="index.html#faq">FAQ</a> <!-- Link ke section di index -->
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- End Navbar -->

    <section class="order-page-section">
        <div class="container">

            <h1 class="text-primary text-center mb-5">Checkout Cetak Kemasan & Label Produk</h1>

            <div class="row g-4"> <!-- Use g-4 for gutter spacing -->

                <!-- Left Column: Product Image/Preview Carousel + Details Below -->
                <div class="col-md-6">
                    <div class="product-image-preview">
                        <!-- Bootstrap Carousel goes here -->
                        <div id="packagingCarousel" class="carousel slide" data-bs-ride="carousel">
                            <!-- Indicators -->
                            <div class="carousel-indicators">
                              <button type="button" data-bs-target="#packagingCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                              <button type="button" data-bs-target="#packagingCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                               <!-- Tambahkan lebih banyak tombol di sini jika ada lebih dari 2 gambar -->
                            </div>

                            <!-- Carousel Inner -->
                            <div class="carousel-inner">
                              <div class="carousel-item active">
                                <img src="./assets/8.jpeg" class="d-block w-100" alt="Label Produk Example 1">
                              </div>
                              <div class="carousel-item">
                                <img src="./assets/packaging_example_2.jpg" class="d-block w-100" alt="Kemasan Example 2">
                              </div>
                               <!-- Tambahkan lebih banyak .carousel-item di sini -->
                               <!-- Contoh untuk Mug: -->
                               <!-- <div class="carousel-item">
                                <img src="./assets/mug_example.jpg" class="d-block w-100" alt="Mug Sublim Example">
                               </div> -->
                            </div>

                            <!-- Controls -->
                            <button class="carousel-control-prev" type="button" data-bs-target="#packagingCarousel" data-bs-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#packagingCarousel" data-bs-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="visually-hidden">Next</span>
                            </button>
                          </div>
                    </div>

                    <!-- Moved Section for Product Details -->
                    <div class="details-below-carousel">
                         <p class="text-muted small text-center fst-italic">
                            </p>

                        <h3>Detail Produk Cetak Kemasan & Label</h3>
                        <p class="lh-lg">
                           Tingkatkan daya tarik produk Anda dengan kemasan dan label berkualitas tinggi dari RNR Digital Printing. Kami menyediakan solusi cetak untuk berbagai kebutuhan bisnis, mulai dari label stiker untuk botol, kemasan makanan, hingga packaging custom seperti mug sublim.
                        </p>
                        <h4>Layanan Kami Meliputi:</h4>
                        <ul>
                            <li>**Label Stiker:** Cetak stiker label produk dalam berbagai bentuk (kotak, bulat, custom cut/die cut) menggunakan bahan Vinyl (tahan air dan minyak) atau Bontak (kertas). Cocok untuk label makanan, minuman, kosmetik, inventaris, dll.</li>
                            <li>**Stiker Kemasan:** Mempercantik tampilan kemasan primer atau sekunder Anda dengan stiker branding berkualitas.</li>
                            <li>**Packaging Custom:** Cetak pada media packaging tertentu seperti Mug Sublim untuk merchandise atau hadiah.</li>
                        </ul>

                         <h4>Pilihan Bahan Stiker:</h4>
                         <ul>
                             <li>**Vinyl:** Bahan plastik, kuat, tahan air dan minyak. Tersedia pilihan Doff (matte) atau Glossy (mengkilap). Sangat cocok untuk produk yang mungkin terpapar kelembaban atau gesekan.</li>
                             <li>**Bontak:** Bahan dasar kertas dengan permukaan halus. Cocok untuk penggunaan indoor atau produk yang tidak terpapar air.</li>
                         </ul>

                        <h4>Pilihan Finishing & Potong:</h4>
                         <ul>
                             <li>**Laminasi (Doff/Glossy):** Melapisi stiker untuk perlindungan ekstra dan efek visual (matte atau mengkilap).</li>
                             <li>**UV Varnish:** Pelapis kilap tambahan (bisa spot di area tertentu) untuk efek premium.</li>
                             <li>**Potong Kotak/Persegi:** Potongan standar.</li>
                             <li>**Kiss Cut:** Stiker terpotong sesuai bentuk tapi backing paper tidak terpotong, memudahkan pengelupasan.</li>
                             <li>**Die Cut:** Stiker dan backing paper terpotong putus sesuai bentuk custom.</li>
                         </ul>

                        <h4>Tips Desain:</h4>
                        <p>Untuk hasil cetak kemasan & label terbaik:</p>
                         <ul>
                             <li>Pastikan resolusi desain tinggi (minimal 300 DPI).</li>
                             <li>Gunakan mode warna CMYK.</li>
                             <li>Untuk potong bentuk custom (Die Cut/Kiss Cut), pastikan ada garis potong (cutting path) pada file desain Anda (format AI, CDR, EPS, SVG lebih disarankan).</li>
                             <li>Pertimbangkan ukuran dan area penempatan label pada produk Anda.</li>
                         </ul>
                        <p>Hubungi kami jika Anda memerlukan bantuan desain atau konsultasi spesifikasi produk.</p>
                    </div>
                </div>

                <!-- Right Column: Configuration Form -->
                <div class="col-md-6">
                    <div class="product-config-form rounded">
                        <h3>Konfigurasi Pesanan</h3>
                        <p class="text-muted mb-4">Sesuaikan pilihan cetak kemasan dan label Anda.</p>

                         <!-- Formulir Pemesanan Kemasan & Label -->
                        <form id="packagingOrderForm" enctype="multipart/form-data">
                           <input type="hidden" name="product" value="Cetak Kemasan & Label Produk">

                           <div class="mb-3">
                             <label for="packagingType" class="form-label">Jenis Produk <span class="text-danger">*</span></label>
                             <select class="form-select" id="packagingType" name="packagingType" required>
                                 <option value="">-- Pilih Jenis Produk --</option>
                                 <option value="Label Stiker">Label Stiker (Vinyl/Bontak)</option>
                                 <option value="Packaging Custom">Packaging Custom (Contoh: Mug)</option>
                             </select>
                           </div>

                           <div class="mb-3">
                             <label for="materialType" class="form-label">Jenis Bahan (Untuk Label Stiker)</label>
                             <select class="form-select" id="materialType" name="materialType">
                                 <option value="">-- Pilih Bahan Stiker (Jika Label) --</option>
                                 <option value="Vinyl Doff">Vinyl Doff (Tahan Air, Hasil Matte)</option>
                                 <option value="Vinyl Glossy">Vinyl Glossy (Tahan Air, Hasil Mengkilap)</option>
                                 <option value="Bontak">Bontak (Kertas, Tidak Tahan Air)</option>
                             </select>
                             <small class="form-text text-muted">Pilihan ini relevan untuk Label Stiker.</small>
                           </div>

                            <div class="mb-3">
                               <label for="cutType" class="form-label">Jenis Potong (Untuk Label Stiker)</label>
                               <select class="form-select" id="cutType" name="cutType">
                                   <option value="">-- Pilih Jenis Potong (Jika Label) --</option>
                                   <option value="Kotak/Persegi">Kotak/Persegi</option>
                                   <option value="Kiss Cut">Kiss Cut (Potong bentuk, stiker bisa dilepas dari lembaran)</option>
                                   <option value="Die Cut">Die Cut (Potong putus sesuai bentuk)</option>
                               </select>
                               <small class="form-text text-muted">Pilihan ini relevan untuk Label Stiker.</small>
                             </div>

                            <div class="mb-3">
                                <label for="finishingPackaging" class="form-label">Finishing Tambahan (opsional)</label>
                                <select class="form-select" id="finishingPackaging" name="finishingPackaging">
                                    <option value="">-- Pilih Finishing --</option>
                                    <option value="None">Tidak Ada</option>
                                    <option value="Laminasi Doff">Laminasi Doff (Untuk Stiker/Kemasan Kertas)</option>
                                    <option value="Laminasi Glossy">Laminasi Glossy (Untuk Stiker/Kemasan Kertas)</option>
                                    <option value="UV Varnish">UV Varnish (Spot/Full)</option>
                                </select>
                              </div>

                           <div class="mb-3">
                             <label for="quantityPackaging" class="form-label">Jumlah Pesanan (pcs/lembar/roll) <span class="text-danger">*</span></label>
                             <input type="number" class="form-control" id="quantityPackaging" name="quantity" min="1" required value="1">
                             <small class="form-text text-muted">Sebutkan unit di catatan jika perlu.</small>
                           </div>

                           <div class="mb-3">
                             <label for="fileUploadPackaging" class="form-label">Unggah File Desain <span class="text-danger">*</span></label>
                             <input class="form-control" type="file" id="fileUploadPackaging" name="designFile" accept=".pdf,.jpg,.jpeg,.png,.ai,.cdr,.eps,.svg" required>
                             <small class="form-text text-muted">Format file yang didukung: PDF, JPG, PNG, AI, CDR, EPS, SVG. Untuk potong bentuk (die/kiss cut), sertakan garis potong di file desain.</small>
                           </div>

                           <div class="mb-3">
                             <label for="notesPackaging" class="form-label">Catatan Tambahan (Ukuran, bentuk custom, detail bahan, dll.)</label>
                             <textarea class="form-control" id="notesPackaging" name="notes" rows="4" placeholder="Contoh: Ukuran stiker 5x5 cm bentuk lingkaran, bahan vinyl glossy, untuk Mug: desain di kanan pegangan"></textarea>
                           </div>

                            <!-- Bidang Kontak & Pengiriman -->
                            <hr class="my-4">
                            <h5 class="mb-3">Info Kontak & Pengiriman</h5>

                            <div class="mb-3">
                               <label for="shippingMethod" class="form-label">Pilih Opsi Pengiriman <span class="text-danger">*</span></label>
                               <select class="form-select" id="shippingMethod" name="shippingMethod" required>
                                   <option value="">-- Pilih Opsi --</option>
                                   <option value="pickup">Ambil Sendiri di Toko (Gratis)</option>
                                   <option value="standard">Kurir Standar (Estimasi 2-3 Hari Kerja)</option>
                                   <option value="express">Kurir Express (Estimasi 1-2 Hari Kerja)</option>
                               </select>
                             </div>

                            <div class="mb-3">
                              <label for="customerNamePackaging" class="form-label">Nama Lengkap <span class="text-danger">*</span></label>
                              <input type="text" class="form-control" id="customerNamePackaging" name="customerName" required>
                            </div>
                            <div class="mb-3">
                              <label for="customerPhonePackaging" class="form-label">Nomor Telepon/WhatsApp <span class="text-danger">*</span></label>
                              <input type="tel" class="form-control" id="customerPhonePackaging" name="customerPhone" required>
                              <small class="form-text text-muted">Kami akan menghubungi Anda melalui nomor ini.</small>
                            </div>
                             <div class="mb-3">
                              <label for="customerEmailPackaging" class="form-label">Email (opsional)</label>
                              <input type="email" class="form-control" id="customerEmailPackaging" name="customerEmail">
                            </div>
                             <div class="mb-3">
                              <label for="customerAddressPackaging" class="form-label">Alamat Pengiriman (opsional)</label>
                              <textarea class="form-control" id="customerAddressPackaging" name="customerAddress" rows="3"></textarea>
                              <small class="form-text text-muted">Isi jika pesanan perlu dikirim.</small>
                            </div>

                           <!-- Checkout Summary Section -->
                           <div class="checkout-summary mt-4">
                               <h4>Ringkasan Pesanan</h4>
                               <div class="price-summary">
                                    <ul class="price-breakdown">
                                        <li>
                                            <span>Subtotal Item:</span>
                                            <span id="itemSubtotal">Rp 0</span>
                                        </li>
                                        <li>
                                            <span>Estimasi Sampai:</span>
                                            <span id="estimatedTime">Pilih opsi pengiriman</span>
                                        </li>
                                        <li>
                                            <span>Pengiriman:</span>
                                            <span id="shippingCost">Rp 0</span>
                                        </li>
                                         <li>
                                            <span>Pajak:</span>
                                            <span id="taxAmount">Rp 0</span>
                                        </li>
                                        <li class="cart-total">
                                            <span>Total Estimasi:</span>
                                            <span id="finalTotal" class="text-success">Rp 0</span>
                                        </li>
                                    </ul>
                                    <small class="text-muted d-block mt-2">*Harga estimasi, konfirmasi final akan diberikan setelah file diperiksa dan spesifikasi lengkap.</small>
                               </div>

                               <!-- Tombol Lanjutkan Pembayaran -->
                               <div class="d-grid gap-2 mt-4">
                                 <button type="button" class="btn btn-primary btn-lg" id="continueToPaymentButton">Lanjutkan Pembayaran</button> <!-- Diubah type="button" dan diberi ID -->
                                 <a href="index.html#services" class="btn btn-secondary btn-lg">Kembali ke Layanan</a>
                               </div>
                           </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <section class="footer bg-primary mt-5">
        <div class="container">
            <div class="footer-box">
                <div class="row justify-content-between row-gap-4">
                    <div class="col col-md-4 col-12 text-white">
                        <div class="d-flex align-items-center gap-2">
                            <img src="./assets/2.png" alt="Logo" width="30" height="30" class="d-inline-block align-text-top"/>
                            <span class="fs-4 fw-bold">RNR Digital Printing</span>
                        </div>
                        <p class="lh-lg m-0">Butuh cetak cepat dan hasil keren? Serahkan pada RNR Digital Printing - partner cetak andalan kamu!</p>
                    </div>
                    <div class="col col-md-2 col-12 d-flex flex-column text-white gap-2">
                        <h4 class="fw-bold">Menu</h4>
                        <a href="index.html#home" class="nav-bot text-white text-decoration-none">Home</a>
                        <a href="index.html#about" class="nav-bot text-white text-decoration-none">About</a>
                        <a href="index.html#order-guide" class="nav-bot text-white text-decoration-none">How To Order</a>
                        <a href="index.html#services" class="nav-bot text-white text-decoration-none">Services</a>
                        <a href="index.html#faq" class="nav-bot text-white text-decoration-none">FAQ</a>
                    </div>
                    <div class="col col-md-4 col-12 d-flex flex-column text-white gap-2 lh-lg">
                        <h4 class="fw-bold">Contact Us</h4>
                        <address>
                            <p class="m-0 d-flex align-items-center gap-2">Email: <a href="mailto:digitalprinting@rnr.tugas1.id" class="text-white">digitalprinting@rnr.tugas1.id</a></p>
                            <p class="m-0 d-flex align-items-center gap-2">Phone: <a href="tel:+6285156963404" class="text-white">0851-5696-3404</a></p>
                            <p class="m-0 d-flex align-items-center gap-2">Address: Kompleks PT. Semen Indonesia (Persero) Tbk, Jl. Veteran, Kb. Dalem, Sidomoro, Kebomas, Gresik Regency, East Java 61122</p>
                        </address>
                    </div>
                </div>
            </div>
            <div class="copyright text-white text-center mt-5">
                <p>© Copyright by <span class="fw-bold">RNR Enterprise</span> 2025, All Rights Reserved.</p>
                <p>Made With <span>❤</span></p>
            </div>
        </div>
    </section>
    <!-- Footer -->

    <!--Bootstraps JS-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"
    ></script>
    <!--Bootstraps JS-->

    <!-- Script Perkiraan Harga dan Redirect ke Payment Page -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references to price display elements
            const itemSubtotalDisplay = document.getElementById('itemSubtotal');
            const shippingCostDisplay = document.getElementById('shippingCost');
            const taxAmountDisplay = document.getElementById('taxAmount');
            const finalTotalDisplay = document.getElementById('finalTotal');
            const estimatedTimeDisplay = document.getElementById('estimatedTime');

            // Get references to relevant input elements
            const quantityInput = document.getElementById('quantityPackaging'); // Correct ID for Packaging
            const packagingTypeSelect = document.getElementById('packagingType'); // Correct ID for Packaging
            const materialTypeSelect = document.getElementById('materialType'); // Correct ID for Packaging
            const cutTypeSelect = document.getElementById('cutType'); // Correct ID for Packaging
            const finishingPackagingSelect = document.getElementById('finishingPackaging'); // Correct ID for Packaging
            const shippingMethodSelect = document.getElementById('shippingMethod');
            const customerNameInput = document.getElementById('customerNamePackaging'); // Correct ID for Packaging
            const customerPhoneInput = document.getElementById('customerPhonePackaging'); // Correct ID for Packaging
            const customerEmailInput = document.getElementById('customerEmailPackaging'); // Correct ID for Packaging
            const customerAddressInput = document.getElementById('customerAddressPackaging'); // Correct ID for Packaging
            const notesInput = document.getElementById('notesPackaging'); // Correct ID for Packaging
            const continueButton = document.getElementById('continueToPaymentButton');
            const orderForm = document.getElementById('packagingOrderForm');


            // Define costs and times (REPLACE WITH YOUR ACTUAL PRICING LOGIC)
            const TAX_RATE_PLACEHOLDER = 0.10; // Example 10% tax rate

            // Define shipping options, costs, and estimated times (Consistent across order pages)
            const shippingOptions = {
                 '': { cost: 0, estimatedTime: 'Pilih opsi pengiriman' }, // Default state
                 'pickup': { cost: 0, estimatedTime: 'Siap diambil hari ini/besok (konfirmasi)' },
                 'standard': { cost: 15000, estimatedTime: '2-3 Hari Kerja' }, // Example cost
                 'express': { cost: 30000, estimatedTime: '1-2 Hari Kerja' } // Example cost
            };

             // Define base prices/cost multipliers per item configuration (REPLACE THESE)
             function getItemPrice(packagingType, materialType, cutType, finishingPackaging) { // Parameters specific to Packaging
                 // --- LOGIKA HARGA ANDA DI SINI ---
                 // Fungsi ini harus mengembalikan harga SATU unit item berdasarkan konfigurasi yang dipilih.
                let basePricePerItem = 0; // Default base price is 0

                if (packagingType === 'Label Stiker') {
                    // Logika harga untuk Label Stiker (Arbitrer Sederhana)
                    // Harga per stiker bisa sangat bervariasi tergantung ukuran, bentuk, bahan, dan jumlah.
                    // Ini contoh SANGAT SEDERHANA berdasarkan bahan dan jenis potong.
                    // Realitanya butuh input ukuran (PxL atau Diameter) untuk kalkulasi luas atau per meter lari.

                     let pricePerSticker = 500; // Harga dasar stiker kecil bontak kotak (Example)
                     if (materialType === 'Vinyl Doff' || materialType === 'Vinyl Glossy') pricePerSticker += 300; // Additional cost for Vinyl
                     if (cutType === 'Kiss Cut') pricePerSticker += 100; // Additional cost for Kiss Cut
                     if (cutType === 'Die Cut') pricePerSticker += 200; // Additional cost for Die Cut
                     if (finishingPackaging === 'Laminasi Doff' || finishingPackaging === 'Laminasi Glossy') pricePerSticker += 150; // Additional cost for Laminasi
                     // Asumsi UV Varnish tidak umum per stiker satuan

                     // Ensure material/cut are selected if Label Stiker is chosen
                     if (materialType === "" || cutType === "") {
                         return 0; // Cannot calculate price if essential details are missing for Label Stiker
                     }

                     basePricePerItem = pricePerSticker; // Price per item (sticker)

                } else if (packagingType === 'Packaging Custom') {
                    // Logika harga untuk Packaging Custom (Contoh: Mug Sublim)
                    // Harga per item custom lebih bervariasi tergantung jenisnya (Mug, kotak custom, dll)
                    // Asumsi ini hanya untuk Mug Sublim:
                     let pricePerMug = 25000; // Harga dasar per Mug (Example)
                    // Mungkin ada biaya tambahan finishing jika relevan untuk Mug (misal Varnish Spot)
                     if (finishingPackaging === 'UV Varnish') { // Asumsi UV Varnish bisa diaplikasikan ke Mug
                         pricePerMug += 5000; // Contoh: Biaya tambahan varnish spot per Mug
                     }
                      // If packagingType is 'Packaging Custom' but finishingPackaging is essential and not selected, price could be 0
                      // Example: if UV Varnish is the *only* custom finishing option, price is 0 unless selected.
                      // For simplicity in this example, we don't enforce required finishing for 'Packaging Custom'

                      basePricePerItem = pricePerMug; // Price per item (mug)

                }
                 // Add else if for other jenis packaging custom if form is updated
                 else {
                     basePricePerItem = 0; // If no packagingType is selected
                 }


                  // Ensure minimum price per item if needed (Optional)
                  // const minPrice = 2000; // Example minimum price per item
                  // if (basePricePerItem > 0 && basePricePerItem < minPrice) basePricePerItem = minPrice;


                 // Only return price if packagingType is selected
                 if (packagingType !== "") {
                     // Apply minimum price if needed
                     const minPrice = packagingType === 'Label Stiker' ? 1000 : 15000; // Example diff minimums
                     if (basePricePerItem > 0 && basePricePerItem < minPrice) return minPrice;
                     return basePricePerItem;
                 }

                 return 0; // Return 0 if packagingType is not selected or essential options are missing for Label Stiker
              }


            // Function to format number to Rupiah
             function formatRupiah(number) {
                const num = parseFloat(number) || 0;
                return new Intl.NumberFormat('id-ID', {
                    style: 'currency',
                    currency: 'IDR',
                    minimumFractionDigits: 0 // No decimals for simplicity
                }).format(num);
             }

            // Define function to update all price elements
            function updateEstimatedPrice() {
                const quantity = parseInt(quantityInput.value) || 0;
                const packagingType = packagingTypeSelect.value;
                const materialType = materialTypeSelect.value;
                const cutType = cutTypeSelect.value;
                const finishingPackaging = finishingPackagingSelect.value;
                const selectedShippingMethod = shippingMethodSelect.value;

                let itemSubtotal = 0;
                let calculatedShipping = 0;
                let calculatedTax = 0;
                let finalTotal = 0;
                let estimatedTime = 'Pilih opsi pengiriman';


                // Calculate subtotal for items - only if quantity > 0 AND a main item type is selected AND essential options are chosen (for Label Stiker)
                if (quantity > 0 && packagingType !== '') {
                    // Calculate price per single item using the product-specific function
                     let pricePerSingleItem = getItemPrice(packagingType, materialType, cutType, finishingPackaging);
                     itemSubtotal = quantity * pricePerSingleItem;
                } else {
                     itemSubtotal = 0; // Item subtotal is 0 if quantity is 0 or no main item type selected or essential options missing
                }


                 // Get shipping cost and estimated time
                const shippingInfo = shippingOptions[selectedShippingMethod] || shippingOptions[''];
                calculatedShipping = itemSubtotal > 0 ? shippingInfo.cost : 0; // Only add shipping if there's an item subtotal
                estimatedTime = shippingInfo.estimatedTime;

                 // Calculate tax
                 calculatedTax = itemSubtotal * TAX_RATE_PLACEHOLDER;


                 // Calculate final total (only if item subtotal > 0)
                 if (itemSubtotal > 0) {
                     finalTotal = itemSubtotal + calculatedShipping + calculatedTax;
                 } else {
                     calculatedShipping = 0;
                     calculatedTax = 0;
                     finalTotal = 0;
                 }

                // Update the display elements
                itemSubtotalDisplay.textContent = formatRupiah(itemSubtotal);
                shippingCostDisplay.textContent = formatRupiah(calculatedShipping);
                taxAmountDisplay.textContent = formatRupiah(calculatedTax);
                finalTotalDisplay.textContent = formatRupiah(finalTotal);
                estimatedTimeDisplay.textContent = estimatedTime;
            }

            // Add event listeners to input elements that affect price
            quantityInput.addEventListener('input', updateEstimatedPrice);
            packagingTypeSelect.addEventListener('change', updateEstimatedPrice);
            materialTypeSelect.addEventListener('change', updateEstimatedPrice);
            cutTypeSelect.addEventListener('change', updateEstimatedPrice);
            finishingPackagingSelect.addEventListener('change', updateEstimatedPrice);
            shippingMethodSelect.addEventListener('change', updateEstimatedPrice);


            // Add event listener for the "Lanjutkan Pembayaran" button
            continueButton.addEventListener('click', function(event) {
                 // Basic form validation check
                if (!orderForm.checkValidity()) {
                    orderForm.reportValidity(); // Trigger browser's validation UI
                    return; // Stop the process
                }

                // Recalculate prices one last time
                updateEstimatedPrice();

                // Recalculate values for storage based on current inputs
                const quantity = parseInt(quantityInput.value) || 0;
                const packagingType = packagingTypeSelect.value;
                const materialType = materialTypeSelect.value;
                const cutType = cutTypeSelect.value;
                const finishingPackaging = finishingPackagingSelect.value;

                 let pricePerSingleItem = 0;
                 // Only calculate if essential fields are selected for price calculation
                 if (quantity > 0 && packagingType !== '') {
                     if (packagingType === 'Label Stiker' && (materialType === '' || cutType === '')) {
                         // If Label Stiker is selected but material or cut are missing, price is 0
                         pricePerSingleItem = 0;
                     } else {
                         pricePerSingleItem = getItemPrice(packagingType, materialType, cutType, finishingPackaging);
                     }
                 }
                const itemSubtotal = quantity * pricePerSingleItem;


                 const selectedShippingMethod = shippingMethodSelect.value;
                 const shippingInfo = shippingOptions[selectedShippingMethod] || shippingOptions[''];
                 const calculatedShipping = itemSubtotal > 0 ? shippingInfo.cost : 0;
                 const calculatedTax = itemSubtotal > 0 ? itemSubtotal * TAX_RATE_PLACEHOLDER : 0;
                 const finalTotal = itemSubtotal > 0 ? itemSubtotal + calculatedShipping + calculatedTax : 0;
                 const estimatedTime = shippingInfo.estimatedTime;

                 // Prepare specific options, only include if relevant and selected
                 const specificOptionsData = {};
                 if (packagingType !== "") specificOptionsData["JenisProduk"] = packagingType;
                 if (packagingType === "Label Stiker") { // Only add material and cut type if it's a Label Stiker
                      if (materialType !== "") specificOptionsData["JenisBahan"] = materialType;
                      if (cutType !== "") specificOptionsData["JenisPotong"] = cutType;
                 }
                 if (finishingPackaging !== "") specificOptionsData["Finishing"] = finishingPackaging;


                 // Gather all relevant data to pass to the payment page
                 const orderData = {
                     productName: "Cetak Kemasan & Label Produk",
                     quantity: quantity,
                     specificOptions: specificOptionsData, // Data spesifik produk ini (filtered)
                     // Info Pelanggan dan Pengiriman
                     customerName: customerNameInput.value,
                     customerPhone: customerPhoneInput.value,
                     customerEmail: customerEmailInput.value,
                     customerAddress: customerAddressInput.value,
                     shippingMethod: selectedShippingMethod,
                     shippingMethodDisplay: shippingInfo.estimatedTime !== 'Pilih opsi pengiriman' ? shippingOptions[selectedShippingMethod]?.estimatedTime + ' (' + selectedShippingMethod.charAt(0).toUpperCase() + selectedShippingMethod.slice(1) + ')' : 'Belum dipilih', // Display string
                     notes: notesInput.value,

                     // Detail Ringkasan Harga
                     itemSubtotal: itemSubtotal,
                     shippingCost: calculatedShipping,
                     taxAmount: calculatedTax,
                     finalTotal: finalTotal,
                     estimatedTime: estimatedTime
                 };

                 // Store the data in localStorage
                 localStorage.setItem('currentOrderData', JSON.stringify(orderData));

                 // Redirect to the payment page
                 window.location.href = 'payment.html';
             });


            // Call the function once when the page loads to set initial prices
            updateEstimatedPrice();
        });
    </script>

  </body>
</html>
